/**
 * -------------------------------------------------------------------------------------------------
 * @author  Ryan Sullivan (ryansullivan@googlemail.com)
 *
 * @file    main.c
 * @brief   Main function.
 *
 * @date    2021-07-07
 * -------------------------------------------------------------------------------------------------
 */

#include "types.h"

#include "main.h"

/*------------------------------------------------------------------------------------------------*/
/*-constant-definitions---------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/

/*
 * 0: Watchdog configuration byte
 * 1: Brown-out configuration byte
 * 2: Oscillator configuration byte
 * 3: Reserved
 * 4: Reserved
 * 5: System configuration byte
 * 6: System configuration byte
 * 7: Application space configuration byte
 * 8: Boot space configuration byte
 * 9: Lock configuration byte
 */
#pragma clang diagnostic ignored "-Wmissing-variable-declarations"
FUSES = {
    WINDOW_OFF_gc | PERIOD_OFF_gc,
    LVL_BODLEVEL0_gc | SAMPFREQ_1KHZ_gc | ACTIVE_DIS_gc | SLEEP_DIS_gc,
    FREQSEL_20MHZ_gc,
    0,
    0,
    CRCSRC_NOCRC_gc | RSTPINCFG_UPDI_gc,
    SUT_1MS_gc,
    100,
    20,
    LB_NOLOCK_gc,
};

/*------------------------------------------------------------------------------------------------*/
/*-exported-variables-----------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/

/*------------------------------------------------------------------------------------------------*/
/*-static-variables-------------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/

static bool run_main = true;

/*------------------------------------------------------------------------------------------------*/
/*-forward-declarations---------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/

/*------------------------------------------------------------------------------------------------*/
/*-exported-functions-----------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/

/**
 * @brief      Main function.
 * @return int Unused.
 */
int main(void)
{
    // LED on pin PA3
    PORTA.DIRSET = 1 << 3; // Set pin 3 of port A as an output.
    PORTA.OUTCLR = 1 << 3; // Pull pin A3 low to turn on the LED.

    while(run_main) {}

    return (0);
}

/*------------------------------------------------------------------------------------------------*/
/*-static-functions-------------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/

/*------------------------------------------------------------------------------------------------*/
/*-end-of-module----------------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------*/
